(()=>{var e={};e.id=9357,e.ids=[9357],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},39491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},81791:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>d,pages:()=>p,routeModule:()=>x,tree:()=>c});var a=s(67096),r=s(16132),i=s(37284),n=s.n(i),l=s(32564),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c=["",{children:["applications",{children:["details",{children:["[projectsTaskId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,84109)),"D:\\avdent\\mmv_freelance_frontend\\src\\app\\applications\\details\\[projectsTaskId]\\page.tsx"]}]},{}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,67925)),"D:\\avdent\\mmv_freelance_frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],p=["D:\\avdent\\mmv_freelance_frontend\\src\\app\\applications\\details\\[projectsTaskId]\\page.tsx"],d="/applications/details/[projectsTaskId]/page",u={require:s,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/applications/details/[projectsTaskId]/page",pathname:"/applications/details/[projectsTaskId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},8740:(e,t,s)=>{Promise.resolve().then(s.bind(s,41750))},41750:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var a=s(30784),r=s(9885),i=s(92919),n=s(90906),l=s(48781),o=s(19518),c=s(39563),p=s(11440),d=s.n(p);let __WEBPACK_DEFAULT_EXPORT__=({params:e})=>{let{projectsTaskId:t}=e,[s,p]=(0,r.useState)([]),[u,x]=(0,r.useState)(!1),[m,h]=(0,r.useState)(null),[_,j]=(0,r.useState)(!0),updateApplicationStatus=async(e,t)=>{try{let s=await (0,l.fv)("applications/update-status",{applied_projects_id:e,status:t});console.log("Status update response:",s),p(s=>s.map(s=>s.applied_projects_id===e?{...s,status:t}:s))}catch(e){console.error("Failed to update status:",e),alert("Failed to update status. Please try again.")}};return(0,r.useEffect)(()=>{let fetchApplications=async()=>{if(!t||isNaN(Number(t))){h("Invalid Project Task ID"),j(!1);return}try{j(!0);let e=await (0,l.jB)("applications/projects/get-applications",{projects_task_id:Number(t)}),s=e.data?.data||[];p(s)}catch(e){console.error("Failed to fetch applications:",e),h("Failed to load applications. Please try again later.")}finally{j(!1)}};fetchApplications()},[t]),a.jsx("div",{className:"dashboard-body",children:(0,a.jsxs)("div",{className:"position-relative",children:[a.jsx(n.Z,{isOpenSidebar:u,setIsOpenSidebar:x}),a.jsx(i.Z,{setIsOpenSidebar:x}),a.jsx("div",{className:"d-sm-flex align-items-center justify-content-between mb-40 lg-mb-30",children:(0,a.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[a.jsx(d(),{href:"/dashboard/employ-dashboard/jobs",children:a.jsx("button",{type:"button",className:"btn btn-light p-2 d-flex align-items-center",children:a.jsx(c.x_l,{})})}),a.jsx("h2",{className:"main-title m0",children:"Applications"})]})}),a.jsx("div",{className:"bg-white card-box border-20",children:a.jsx("div",{className:"table-responsive",children:(0,a.jsxs)("table",{className:"table job-alert-table",children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{children:[a.jsx("th",{children:"Applicant Name"}),a.jsx("th",{children:"Experience"}),a.jsx("th",{children:"Skills"}),a.jsx("th",{children:"Status"})]})}),a.jsx("tbody",{children:s.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsxs)("td",{children:[e.first_name," ",e.last_name]}),(0,a.jsxs)("td",{children:[e.experience?.years," years"]}),a.jsx("td",{children:e.skill?.join(", ")}),(0,a.jsxs)("td",{style:{position:"relative"},children:[0===e.status&&(0,a.jsxs)("div",{className:"position-absolute top-50 start-50 translate-middle d-flex gap-1",children:[a.jsx("button",{type:"button",className:"btn btn-outline-success me-2",onClick:()=>updateApplicationStatus(e.applied_projects_id,1),children:a.jsx(c.l_A,{})}),a.jsx("button",{type:"button",className:"btn btn-outline-secondary me-2",onClick:()=>updateApplicationStatus(e.applied_projects_id,3),children:a.jsx(c.g_g,{})}),a.jsx("button",{type:"button",className:"btn btn-outline-danger me-2",onClick:()=>updateApplicationStatus(e.applied_projects_id,2),children:a.jsx(o.ySC,{})})]}),1===e.status&&a.jsx("span",{className:"text-success",children:"Accepted"}),2===e.status&&a.jsx("span",{className:"text-danger",children:"Rejected"}),3===e.status&&a.jsx("span",{className:"text-secondary",children:"Pending Review"})]})]},e.applied_projects_id))})]})})})]})})}},84109:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>i,default:()=>o});var a=s(95153);let r=(0,a.createProxy)(String.raw`D:\avdent\mmv_freelance_frontend\src\app\applications\details\[projectsTaskId]\page.tsx`),{__esModule:i,$$typeof:n}=r,l=r.default,o=l}};var t=require("../../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[3591,6802,3407,6854,5217,4422,421,4860,2919,906],()=>__webpack_exec__(81791));module.exports=s})();